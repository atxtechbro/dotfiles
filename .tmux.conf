# Minimal tmux configuration
# Focus on terminal splitting and pane navigation

# Change prefix from 'Ctrl+b' to 'Ctrl+a' (more ergonomic)
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

# Split panes using | and - (open in same directory)
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
# Also configure the default % and " keys to maintain current path
bind '"' split-window -v -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"

# Vim-style pane navigation (without prefix)
bind -n M-h select-pane -L
bind -n M-j select-pane -D
bind -n M-k select-pane -U
bind -n M-l select-pane -R

# Use vim keybindings in copy mode
setw -g mode-keys vi

# Setup 'v' to begin selection as in Vim
bind-key -T copy-mode-vi v send-keys -X begin-selection
# Setup 'y' to copy selection to system clipboard and exit copy mode
# Detect if we're on Linux or macOS and use appropriate clipboard command
if-shell "command -v xclip" \
    "bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'xclip -in -selection clipboard'" \
    "if-shell 'command -v pbcopy' \
        'bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel \"pbcopy\"' \
        'bind-key -T copy-mode-vi y send-keys -X copy-selection-and-cancel'"

# Enter copy mode with Ctrl+a v (then press v again to start selection)
bind v copy-mode

# Enable mouse control (clickable windows, panes, resizable panes)
set -g mouse on

# Create new windows in the same directory
bind c new-window -c "#{pane_current_path}"

# Start window numbering at 1
set -g base-index 1

# Don't rename windows automatically
set-option -g allow-rename off


#####  CASIO  F-91W  THEME  ###############################################

# Color Palette Reference:
# black resin: #080808
# deep bezel blue: #005dff  
# bright cyan bezel inlay: #00e5ff
# thin red accent: #ff003c
# "ALARM CHRONOGRAPH" yellow: #ffd700
# greenish LCD digits: #9dff00
# dark LCD background: #112500

#####  General
set -g status-position top
set -g status-interval 1
set -g status-style "bg=#005dff,fg=#ffd700"

#####  Status-left  (CASIO logo)
set -g status-left-length 30
set -g status-left \
  "#[bold fg=#ffd700,bg=#005dff]  CASIO #[fg=#ff003c]ALARM #[fg=#ffd700]CHRONO  "

#####  Window list
set-window-option -g window-status-separator ''
set-window-option -g window-status-format \
  "#[fg=#00e5ff] #I #[default]#W "
set-window-option -g window-status-current-format \
  "#[bg=#ff003c,fg=#080808] #I #[bold fg=#ffd700]#W #[default]"

#####  Pane borders
set -g pane-border-style        "fg=#00e5ff"
set -g pane-active-border-style "fg=#ff003c"

#####  Messages / command prompt
set -g message-style         "bg=#005dff,fg=#ffd700"
set -g message-command-style "bg=#005dff,fg=#ffd700"

#####  Copy / view mode indicator
set -g mode-style "bg=#ffd700,fg=#080808"

#####  Clock (prefix + t)
set -g clock-mode-colour "#9dff00"
set -g clock-mode-style 24

#####  Status-right  (time & date in LCD colours)
set -g status-right-length 60
set -g status-right \
  "#[fg=#9dff00,bg=#112500]  %H:%M:%S  #[fg=#ffd700,bg=#005dff] %d-%b-%y  "

#####  End  ###############################################################
