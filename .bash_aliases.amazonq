#!/bin/bash
# Amazon Q aliases and functions

# Function to run Amazon Q with trust permissions setup
function q() {
  # Always run the trust setup script and show logs
  echo "Running Amazon Q trust setup..."
  "$HOME/ppv/pillars/dotfiles/mcp/setup-amazon-q-trust.sh"
  
  # Forward all arguments to the real q command
  # Use the full path to avoid recursion
  echo "Launching Amazon Q..."
  /home/shellmaestro/.local/bin/q "$@"
}

# Export the function
export -f q
